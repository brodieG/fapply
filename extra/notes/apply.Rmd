# apply

What would it take to implement an `apply` like runner.

    arr <- array(1:8, c(2,2,2))
    apply(arr, c(1,3), toString)
    apply(arr, 2, toString)

Need to compute the within group stride as well as the across group stride. E.g:

* Margin=c(1,3):
  * Within: 2
  * Across: 1 or 3 depending.
* Margin=c(1,2):
  * Within: 1
  * Across: 2
* Margin=2:3:
  * Within: 1
  * Across: 2

So having a fixed stride in `Within` is perfectly fine, but then if we do:

    apply(arr, 2, \(x) length(unique(diff(c(x)))))

* Margin=2:
  * Within: 1 or 3
  * Across: 2

Now it's a problem because the logic of the C implemented functions need to be
able to handle a complex stride which is would dramatically increase their
complexity.  So that's probably a no go for a full implementation.

Alternatives include:

* A version that re-orders the array (but copies it!).
* A version that only supports margins that produce consistent strides (and
  maybe falls back to sorting if it can't).


